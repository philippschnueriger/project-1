<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>To DoApp</title>
    <link rel="stylesheet" type="text/css" href="./main.css">
  </head>
  <body>
    <main>
        <div class="overview">
            <div class="menu">
                <button>Create new todo</button>
                <button type="button" id="theme-button">Toggle Style</button>
            </div>
            <div class="filter">
                <div>
                    <button>Name</button>
                    <button>By Due Date</button>
                    <button>By Creation Date</button>
                    <button>By Importance</button>
                </div>
                <button>Filter Completed</button>
            </div>
            <ul id="todos"></ul>
        </div>
        <div class="newentry" hidden>
            <form id="form" action="./index.html" action="POST">
                <label for="title">Title</label>
                <input id="title" type="text" name="title" />

                <label for="importance">Importance</label>
                <input id="importance" type="text" name="importance" />

                <label for="duedate">Duedate</label>
                <input id="duedate" type="date" name="duedate" />

                <input id="status"type="checkbox">Finished</input><br />

                <label for="description">Description</label>
                <textarea id="description" name="description"></textarea>
                <div class="menu">
                    <button>Create</button>
                    <button>Create & Overview</button>
                    <button>Overview</button>
                </div>
              </form>
        </div>
    </main>
    <script src="./main.js" defer></script>
    <script type="module">
        import todoStore from "./todo-store.js"

        const songListElement = document.querySelector("#todos");

        function createSongsHtml(todos) {
            return todos.map(todo =>
            `<li>
                <div class="status">
                    <div class="due-date">${todo.duedate}</div>
                    <input type="checkbox">${todo.status}</input>
                </div>
                <div class="content">
                    <div class="name">${todo.name}</div>
                    <div class="description">${todo.description}</div>
                </div>
                <div class="rating">
                    <div class="importance">${todo.priority}</div>
                </div>
                <div class="edit">
                    <button>Edit</button>
                </div>
            </li>`).join('');
        }

        function renderTodos(){
            songListElement.innerHTML = createSongsHtml(todoStore.todos);
        }
        renderTodos()
    </script>
  </body>
</html>
